import{a as _e,b as Fe,c as ke}from"./chunk-RGCWU63O.js";import{a as v}from"./chunk-XCJ6WZMH.js";import{C as B,D as G,H as Ee,J as Ie,K as Q,L as z,M as Ae,c as K,d as ve,e as we,f as be,g as Se,j as ye,k as S,n as Ce,o as xe,q as x,r as y,t as E,u as I,v as O,w as j,x as A,y as L,z as _}from"./chunk-EJY57LKY.js";import{$b as T,Ca as k,Cb as t,Db as o,Eb as m,Fa as de,H as ne,Ic as R,Lb as u,Nb as V,Oc as U,Sb as H,Tb as Z,Ub as X,Wb as a,Za as ce,_b as M,aa as oe,ab as p,ac as P,bb as h,ca as re,cb as pe,cc as f,eb as ge,gb as ue,ha as g,ia as ae,jb as he,o as te,ra as se,rb as D,sa as le,t as ie,tb as b,vc as w,ya as me,zc as fe}from"./chunk-DGVQG36G.js";w();var De=(()=>{let e=class e{constructor(i,n,s){this.formBuilder=i,this.userService=n,this.router=s,this.loginForm=this.createLoginForm()}ngOnInit(){this.userService.userRoles$.subscribe(i=>{i&&i.length>0&&this.handleNavigation(i)})}createLoginForm(){return new O({email:new A("",[y.required,y.email]),password:new A("",y.required)})}onSubmit(){this.loginForm.valid&&this.userService.login(this.loginForm.value).subscribe(()=>{console.log("Login successful"),this.userService.updateUserRole()},i=>{console.log(i)})}handleNavigation(i){i.includes("superadmin")?this.router.navigate(["/back"]):i.includes("admin")?this.router.navigate(["/back"]):i.includes("company")?this.router.navigate(["/back"]):i.includes("employee")?this.router.navigate(["/back"]):console.log("Unknown roles")}navigateToCam(){this.router.navigate(["/cam"])}navigateToSignUp(){this.router.navigate(["/signup"])}navigateToForgotPassword(){this.router.navigate(["/forgotpassword"])}sendGoogleRequest(){this.router.navigate([`'${Ae.baseUrl}/user/google'`])}};e.\u0275fac=function(n){return new(n||e)(h(Ie),h(v),h(S))},e.\u0275cmp=g({type:e,selectors:[["app-login"]],standalone:!0,features:[f],decls:68,vars:1,consts:[["id","main-wrapper"],[1,"py-5"],[1,"container"],[1,"row","justify-content-center","align-items-center","m-auto"],[1,"col-12"],[1,"bg-mode","rounded-3","overflow-hidden"],[1,"row","g-0"],[1,"col-lg-6","d-flex","align-items-center","order-2","order-lg-1","bg-dark"],[1,"p-3","p-lg-5"],["src","assets/img/auth.png","alt","",1,"img-fluid"],[1,"vr","opacity-1","d-none","d-lg-block"],[1,"col-lg-6","order-1","bg-white","position-relative"],[1,"position-absolute","end-0","top-0","mt-3","me-3"],["href","index.html",1,"square--40","circle","bg-light-danger","text-danger"],[1,"fa-solid","fa-house"],[1,"p-3","p-sm-4","p-md-5"],["href","index.html"],["src","assets/img/icon.png","width","60","alt","logo",1,"img-fluid","mb-4"],[1,"mb-2","fs-2"],[1,"mb-0"],[1,"fw-medium","text-primary",3,"click"],[1,"mt-5","text-start",3,"formGroup","ngSubmit"],[1,"social-login"],[1,"d-flex","align-items-center","justify-content-center","flex-wrap","gap-3","p-0"],[1,"flex-first","flex-fill","mob-100"],[1,"btn","bg-white","border","border-2","text-dark","full-width",3,"click"],[1,"fa-brands","fa-google-plus-g","color--googleplus","me-2"],[1,"fw-medium","text-md"],[1,"flex-last","flex-fill","mob-100"],[1,"fa-brands","fa-facebook","color--facebook","me-2"],[1,"prixer","my-5"],[1,"devider-wraps","position-relative"],[1,"devider-text","text-muted-2","text-md"],[1,"form","mb-5"],[1,"form-floating","mb-4"],["type","email","placeholder","name@example.com","formControlName","email","required","",1,"form-control"],["type","password","id","password-field","name","password","placeholder","Password","formControlName","password","required","",1,"form-control"],[1,"toggle-password","position-absolute","top-50","end-0","translate-middle-y","me-3","fa-regular","fa-eye"],[1,"form-group"],[1,"btn","btn-primary","full-width","font--bold","btn-lg"],[1,"modal-flex-item","d-flex","align-items-center","justify-content-between","mb-3"],[1,"modal-flex-first"],[1,"form-check","form-check-inline"],["type","checkbox","id","savepassword","value","option1",1,"form-check-input"],["for","savepassword",1,"form-check-label"],[1,"modal-flex-last"],[1,"text-primary","fw-medium",3,"click"],[1,"text-primary-hover","mt-3","text-center"],["href","#"]],template:function(n,s){n&1&&(t(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),m(9,"img",9),o(),m(10,"div",10),o(),t(11,"div",11)(12,"div",12)(13,"a",13),m(14,"i",14),o()(),t(15,"div",15)(16,"a",16),m(17,"img",17),o(),t(18,"h1",18),a(19,"Welcome Back Adam!"),o(),t(20,"p",19),a(21,"Are you new here?"),t(22,"a",20),u("click",function(){return s.navigateToSignUp()}),a(23," Create an account"),o()(),t(24,"form",21),u("ngSubmit",function(){return s.onSubmit()}),t(25,"div",22)(26,"div",23)(27,"div",24)(28,"a",25),u("click",function(){return s.sendGoogleRequest()}),m(29,"i",26),t(30,"span",27),a(31,"Signin with Google"),o()()(),t(32,"div",28)(33,"a",25),u("click",function(){return s.navigateToCam()}),m(34,"i",29),t(35,"span",27),a(36,"Login with FaceReconization"),o()()()()(),t(37,"div",30)(38,"div",31)(39,"div",32),a(40,"Or signin with email"),o()()(),t(41,"div",33)(42,"div",34),m(43,"input",35),t(44,"label"),a(45,"Email"),o()(),t(46,"div",34),m(47,"input",36),t(48,"label"),a(49,"Password"),o(),m(50,"span",37),o(),t(51,"div",38)(52,"button",39),a(53,"Log In"),o()(),t(54,"div",40)(55,"div",41)(56,"div",42),m(57,"input",43),t(58,"label",44),a(59,"Save Password"),o()()(),t(60,"div",45)(61,"a",46),u("click",function(){return s.navigateToForgotPassword()}),a(62,"Forget Password?"),o()()()(),t(63,"div",47),a(64," Copyrights \xA92024CareerCrow.com. Build by "),t(65,"a",48),a(66,"CyberDev"),o(),a(67,". "),o()()()()()()()()()()()),n&2&&(p(24),b("formGroup",s.loginForm))},dependencies:[z,_,x,E,I,Ee,B,G]});let r=e;return r})();w();function ze(r,e){r&1&&(t(0,"span"),a(1,"this is required"),o())}function We(r,e){if(r&1&&(t(0,"div",51),D(1,ze,2,0,"span",52),o()),r&2){let l=V();p(),b("ngIf",l.userForm.controls.email.errors==null?null:l.userForm.controls.email.errors.required)}}var Me=(()=>{let e=class e{constructor(i,n){this.userService=i,this._router=n,this.userForm=new O({username:new A("",[y.required,y.minLength(4)]),email:new A("",[y.required,y.email]),password:new A("",y.required),confirmPassword:new A("",y.required)}),this.userForm.get("confirmPassword")?.valueChanges.subscribe(()=>{this.userForm.controls.confirmPassword.updateValueAndValidity()})}onSubmit(){this.userForm.valid&&(console.log(this.userForm.value),this.userService.signup(this.userForm.value).subscribe(i=>{this.userForm.reset(),console.log("subscribed"),this._router.navigate(["/login"])},i=>{console.log(i)}))}isCreateDisabled(){return this.userForm.invalid||this.userForm.value.password!==this.userForm.value.confirmPassword}navigateToLogin(){this._router.navigate(["/login"])}};e.\u0275fac=function(n){return new(n||e)(h(v),h(S))},e.\u0275cmp=g({type:e,selectors:[["app-sign-up"]],standalone:!0,features:[f],decls:75,vars:3,consts:[["id","main-wrapper"],[1,"py-5"],[1,"container"],[1,"row","justify-content-center","align-items-center","m-auto"],[1,"col-12"],[1,"bg-mode","rounded-3","overflow-hidden"],[1,"row","g-0"],[1,"col-lg-6","d-flex","align-items-center","order-2","order-lg-1","bg-dark"],[1,"p-3","p-lg-5"],["src","assets/img/indoor-job-5.png","alt","",1,"img-fluid"],[1,"vr","opacity-1","d-none","d-lg-block"],[1,"col-lg-6","order-1","bg-white","position-relative"],[1,"position-absolute","end-0","top-0","mt-3","me-3"],["href","index.html",1,"square--40","circle","bg-light-danger","text-danger"],[1,"fa-solid","fa-house"],[1,"p-4","p-sm-7"],["href","index.html"],["src","assets/img/icon.png","width","60","alt","logo",1,"img-fluid","mb-4"],[1,"mb-2","fs-2"],[1,"mb-0"],[1,"fw-medium","text-primary",3,"click"],[1,"mt-5","text-start",3,"formGroup"],[1,"social-login"],[1,"d-flex","align-items-center","justify-content-center","flex-wrap","gap-3","p-0"],[1,"flex-first","flex-fill","mob-100"],["href","#",1,"btn","bg-white","border","border-2","text-dark","full-width"],[1,"fa-brands","fa-google-plus-g","color--googleplus","me-2"],[1,"fw-medium","text-md"],[1,"flex-last","flex-fill","mob-100"],[1,"fa-brands","fa-facebook","color--facebook","me-2"],[1,"prixer","my-5"],[1,"devider-wraps","position-relative"],[1,"devider-text","text-muted-2","text-md"],[1,"form","mb-5"],[1,"form-group"],[1,"form-label"],["type","email","placeholder","name@example.com","formControlName","email",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","placeholder","UserName","formControlName","username",1,"form-control"],[1,"position-relative"],["type","password","id","password-field","name","password","placeholder","Password","formControlName","password",1,"form-control"],[1,"fa-solid","fa-eye","toggle-password","position-absolute","top-50","end-0","translate-middle-y","me-3"],["type","password","placeholder","*********","formControlName","confirmPassword",1,"form-control"],[1,"btn","btn-primary","full-width","font--bold","btn-lg",3,"disabled","click"],[1,"modal-flex-item","d-flex","align-items-center","justify-content-between","mb-3"],[1,"modal-flex-first"],[1,"form-check","form-check-inline"],["type","checkbox","id","savepassword","value","option1",1,"form-check-input"],["for","savepassword",1,"form-check-label"],[1,"text-primary-hover","mt-3","text-center"],["href","#"],[1,"text-danger"],[4,"ngIf"]],template:function(n,s){n&1&&(t(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),m(9,"img",9),o(),m(10,"div",10),o(),t(11,"div",11)(12,"div",12)(13,"a",13),m(14,"i",14),o()(),t(15,"div",15)(16,"a",16),m(17,"img",17),o(),t(18,"h1",18),a(19,"Create New Account"),o(),t(20,"p",19),a(21,"Already a Member?"),t(22,"a",20),u("click",function(){return s.navigateToLogin()}),a(23," Signin"),o()(),t(24,"form",21)(25,"div",22)(26,"div",23)(27,"div",24)(28,"a",25),m(29,"i",26),t(30,"span",27),a(31,"Signin with Google"),o()()(),t(32,"div",28)(33,"a",25),m(34,"i",29),t(35,"span",27),a(36,"Login with Facebook"),o()()()()(),t(37,"div",30)(38,"div",31)(39,"div",32),a(40,"Or signin with email"),o()()(),t(41,"div",33)(42,"div",34)(43,"label",35),a(44,"Enter email ID"),o(),m(45,"input",36),D(46,We,2,1,"div",37),o(),t(47,"div",34)(48,"label",35),a(49,"UserName"),o(),m(50,"input",38),o(),t(51,"div",34)(52,"label",35),a(53,"Enter Password"),o(),t(54,"div",39),m(55,"input",40)(56,"span",41),o()(),t(57,"div",34)(58,"label",35),a(59,"Confirm Password"),o(),m(60,"input",42),o(),t(61,"div",34)(62,"button",43),u("click",function(){return s.onSubmit()}),a(63,"Create An Account"),o()(),t(64,"div",44)(65,"div",45)(66,"div",46),m(67,"input",47),t(68,"label",48),a(69,"Keep me signed in"),o()()()()(),t(70,"div",49),a(71," Copyrights \xA92024CareerCrow.com. Build by "),t(72,"a",50),a(73,"CyberDev"),o(),a(74,". "),o()()()()()()()()()()()),n&2&&(p(24),b("formGroup",s.userForm),p(22),b("ngIf",s.userForm.controls.email.invalid&&(s.userForm.controls.email.touched||s.userForm.controls.email.dirty)),p(16),b("disabled",s.isCreateDisabled()))},dependencies:[z,_,x,E,I,B,G,R]});let r=e;return r})();w();var Te=(()=>{let e=class e{constructor(i,n){this.userService=i,this.router=n}ngOnInit(){}onSubmit(){console.log(this.email),this.userService.getOtp(this.email).subscribe(i=>{console.log(i),this.router.navigate(["/resetPassword"])},i=>{console.log(i)})}navigateToLogin(){this.router.navigate(["/login"])}};e.\u0275fac=function(n){return new(n||e)(h(v),h(S))},e.\u0275cmp=g({type:e,selectors:[["app-forgot-password"]],standalone:!0,features:[f],decls:57,vars:1,consts:[["id","main-wrapper"],[1,"py-5"],[1,"container"],[1,"row","justify-content-center","align-items-center","m-auto"],[1,"col-12"],[1,"bg-mode","shadow","rounded-3","overflow-hidden"],[1,"row","g-0"],[1,"col-lg-6","d-flex","align-items-center","order-2","order-lg-1","bg-dark"],[1,"p-3","p-lg-5"],["src","assets/img/auth.png","alt","",1,"img-fluid"],[1,"vr","opacity-1","d-none","d-lg-block"],[1,"col-lg-6","order-1","bg-white","position-relative"],[1,"position-absolute","end-0","top-0","mt-3","me-3"],["href","index.html",1,"square--40","circle","bg-light-danger","text-danger"],[1,"fa-solid","fa-house"],[1,"p-4","p-sm-7"],["href","index.html"],["src","assets/img/icon.png","width","60","alt","logo",1,"img-fluid","mb-4"],[1,"mb-2","fs-2"],[1,"mb-0"],[1,"mt-5","text-start",3,"ngSubmit"],[1,"social-login"],[1,"d-flex","align-items-center","justify-content-center","flex-wrap","gap-3","p-0"],[1,"flex-first","flex-fill","mob-100"],["href","#",1,"btn","bg-white","border","border-2","text-dark","full-width"],[1,"fa-brands","fa-google-plus-g","color--googleplus","me-2"],[1,"fw-medium","text-md"],[1,"flex-last","flex-fill","mob-100"],[1,"fa-brands","fa-facebook","color--facebook","me-2"],[1,"prixer","my-5"],[1,"devider-wraps","position-relative"],[1,"devider-text","text-muted-2","text-md"],[1,"form","py-4"],[1,"form-group"],[1,"form-label"],["type","email","placeholder","name@example.com","name","email",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","text-center"],[1,"fw-medium","text-primary",3,"click"],[1,"btn","btn-primary","full-width","font--bold","btn-lg"],[1,"text-primary-hover","mt-3","text-center"],["href","#"]],template:function(n,s){n&1&&(t(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),m(9,"img",9),o(),m(10,"div",10),o(),t(11,"div",11)(12,"div",12)(13,"a",13),m(14,"i",14),o()(),t(15,"div",15)(16,"a",16),m(17,"img",17),o(),t(18,"h1",18),a(19,"Forgot Password?"),o(),t(20,"p",19),a(21,"Enter the email address associated with an account."),o(),t(22,"form",20),u("ngSubmit",function(){return s.onSubmit()}),t(23,"div",21)(24,"div",22)(25,"div",23)(26,"a",24),m(27,"i",25),t(28,"span",26),a(29,"Signin with Google"),o()()(),t(30,"div",27)(31,"a",24),m(32,"i",28),t(33,"span",26),a(34,"Login with Facebook"),o()()()()(),t(35,"div",29)(36,"div",30)(37,"div",31),a(38,"Or signin with email"),o()()(),t(39,"div",32)(40,"div",33)(41,"label",34),a(42,"Enter your email ID"),o(),t(43,"input",35),P("ngModelChange",function(c){return T(s.email,c)||(s.email=c),c}),o()(),t(44,"div",36)(45,"p",19),a(46,"Back to "),t(47,"a",37),u("click",function(){return s.navigateToLogin()}),a(48,"Sign in"),o()()(),t(49,"div",33)(50,"button",38),a(51,"Reset Password"),o()()(),t(52,"div",39),a(53," Copyrights \xA92024CareerCrow.com. Build by "),t(54,"a",40),a(55,"CyberDev"),o(),a(56,". "),o()()()()()()()()()()()),n&2&&(p(43),M("ngModel",s.email))},dependencies:[Q,_,x,E,I,L,j]});let r=e;return r})();w();var Pe=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=g({type:e,selectors:[["app-not-found"]],standalone:!0,features:[f],decls:16,vars:0,consts:[["id","main-wrapper"],[1,"position-relative"],[1,"container"],[1,"row","align-items-center","justify-content-center"],[1,"col-xl-7","col-lg-9","col-md-12"],[1,"404-capstion","text-center","my-4"],[1,"404-captions"],["src","assets/img/404.svg","alt","",1,"img-fluid","mb-3"],[1,"display-1","fw-bold","mb-0"],[1,"fs-6"]],template:function(n,s){n&1&&(t(0,"div",0),m(1,"app-nav-bar"),t(2,"section",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),m(8,"img",7),t(9,"h1",8),a(10,"404"),o(),t(11,"h2"),a(12,"Ohhh ho, something went wrong!"),o(),t(13,"p",9),a(14,"Cicero famously orated against his political opponent."),o()()()()()()(),m(15,"app-footer"),o())},dependencies:[ke,_e]});let r=e;return r})();w();var Ve=(()=>{let e=class e{constructor(i,n){this.userService=i,this.router=n,this.otp=0}onSubmit(){let i={email:this.email,otp:+this.otp,newPassword:this.newPassword};console.log(i),this.userService.resetPassword(i).subscribe(()=>{console.log("password update"),this.router.navigate(["/login"])},n=>{console.log(n)})}};e.\u0275fac=function(n){return new(n||e)(h(v),h(S))},e.\u0275cmp=g({type:e,selectors:[["app-reset-password"]],standalone:!0,features:[f],decls:65,vars:3,consts:[["id","main-wrapper"],[1,"py-5"],[1,"container"],[1,"row","justify-content-center","align-items-center","m-auto"],[1,"col-12"],[1,"bg-mode","shadow","rounded-3","overflow-hidden"],[1,"row","g-0"],[1,"col-lg-6","d-flex","align-items-center","order-2","order-lg-1","bg-dark"],[1,"p-3","p-lg-5"],["src","assets/img/auth.png","alt","",1,"img-fluid"],[1,"vr","opacity-1","d-none","d-lg-block"],[1,"col-lg-6","order-1","bg-white","position-relative"],[1,"position-absolute","end-0","top-0","mt-3","me-3"],["href","index.html",1,"square--40","circle","bg-light-danger","text-danger"],[1,"fa-solid","fa-house"],[1,"p-4","p-sm-7"],["href","index.html"],["src","assets/img/icon.png","width","60","alt","logo",1,"img-fluid","mb-4"],[1,"mb-2","fs-2"],[1,"mb-0"],[1,"mt-5","text-start",3,"ngSubmit"],[1,"social-login"],[1,"d-flex","align-items-center","justify-content-center","flex-wrap","gap-3","p-0"],[1,"flex-first","flex-fill","mob-100"],["href","#",1,"btn","bg-white","border","border-2","text-dark","full-width"],[1,"fa-brands","fa-google-plus-g","color--googleplus","me-2"],[1,"fw-medium","text-md"],[1,"flex-last","flex-fill","mob-100"],[1,"fa-brands","fa-facebook","color--facebook","me-2"],[1,"prixer","my-5"],[1,"devider-wraps","position-relative"],[1,"devider-text","text-muted-2","text-md"],[1,"form","py-4"],[1,"form-group"],[1,"form-label"],["type","email","placeholder","name@example.com","name","email",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Your Otp","name","otp",1,"form-control",3,"ngModel","ngModelChange"],["type","password","placeholder","New Password","name","newPassword",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","text-center"],["href","/login",1,"fw-medium","text-primary"],[1,"btn","btn-primary","full-width","font--bold","btn-lg"],[1,"text-primary-hover","mt-3","text-center"],["href","#"]],template:function(n,s){n&1&&(t(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),m(9,"img",9),o(),m(10,"div",10),o(),t(11,"div",11)(12,"div",12)(13,"a",13),m(14,"i",14),o()(),t(15,"div",15)(16,"a",16),m(17,"img",17),o(),t(18,"h1",18),a(19,"Forgot Password?"),o(),t(20,"p",19),a(21,"Enter the email address associated with an account."),o(),t(22,"form",20),u("ngSubmit",function(){return s.onSubmit()}),t(23,"div",21)(24,"div",22)(25,"div",23)(26,"a",24),m(27,"i",25),t(28,"span",26),a(29,"Signin with Google"),o()()(),t(30,"div",27)(31,"a",24),m(32,"i",28),t(33,"span",26),a(34,"Login with Facebook"),o()()()()(),t(35,"div",29)(36,"div",30)(37,"div",31),a(38,"Or signin with email"),o()()(),t(39,"div",32)(40,"div",33)(41,"label",34),a(42,"Enter your email ID"),o(),t(43,"input",35),P("ngModelChange",function(c){return T(s.email,c)||(s.email=c),c}),o()(),t(44,"div",33)(45,"label",34),a(46,"Enter your OTP"),o(),t(47,"input",36),P("ngModelChange",function(c){return T(s.otp,c)||(s.otp=c),c}),o()(),t(48,"div",33)(49,"label",34),a(50,"Enter your New Password"),o(),t(51,"input",37),P("ngModelChange",function(c){return T(s.newPassword,c)||(s.newPassword=c),c}),o()(),t(52,"div",38)(53,"p",19),a(54,"Back to "),t(55,"a",39),a(56,"Sign in"),o()()(),t(57,"div",33)(58,"button",40),a(59,"Reset Password"),o()()(),t(60,"div",41),a(61," Copyrights \xA92024CareerCrow.com. Build by "),t(62,"a",42),a(63,"CyberDev"),o(),a(64,". "),o()()()()()()()()()()()),n&2&&(p(43),M("ngModel",s.email),p(4),M("ngModel",s.otp),p(4),M("ngModel",s.newPassword))},dependencies:[Q,_,x,E,I,L,j]});let r=e;return r})();w();var Ne=(()=>{let e=class e{ngOnInit(){throw new Error("Method not implemented.")}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=g({type:e,selectors:[["app-find-notif-meetings"]],standalone:!0,features:[f],decls:0,vars:0,template:function(n,s){},dependencies:[U,xe]});let r=e;return r})();w();var J=class r{constructor(e,l,i){this._mimeType=null,this._imageAsBase64=null,this._imageAsDataUrl=null,this._imageData=null,this._mimeType=l,this._imageAsDataUrl=e,this._imageData=i}static getDataFromDataUrl(e,l){return e.replace(`data:${l};base64,`,"")}get imageAsBase64(){return this._imageAsBase64?this._imageAsBase64:this._imageAsBase64=r.getDataFromDataUrl(this._imageAsDataUrl,this._mimeType)}get imageAsDataUrl(){return this._imageAsDataUrl}get imageData(){return this._imageData}};var Re=(()=>{class r{}return r.\u0275fac=function(l){return new(l||r)},r.\u0275mod=ae({type:r}),r.\u0275inj=le({imports:[[U]]}),r})();oe();w();var qe=["video"];function Je(r,e){if(r&1&&(t(0,"div"),m(1,"img",4),o()),r&2){let l=V();p(),b("src",l.capturedImage.imageAsDataUrl,ce)("alt","Captured Image")}}var Ue=(()=>{let e=class e{constructor(i,n){this.userService=i,this.router=n,this.triggerObservable=new te,this.mediaStream=null}ngAfterViewInit(){this.initWebcam()}ngOnDestroy(){this.stopMediaTracks()}triggerSnapshot(){this.takeSnapshot()}initWebcam(){navigator.mediaDevices.getUserMedia({video:!0}).then(i=>{this.mediaStream=i;let n=this.videoElement.nativeElement;n&&(n.srcObject=i,n.play())}).catch(i=>{console.error("Error accessing camera:",i)})}takeSnapshot(){let i=this.videoElement.nativeElement;if(i){let n=document.createElement("canvas");n.width=i.videoWidth,n.height=i.videoHeight;let s=n.getContext("2d");if(s){s.drawImage(i,0,0,n.width,n.height);let d=n.toDataURL("image/jpeg"),c=new ImageData(n.width,n.height),Y=new J(d,"image/jpeg",c);this.capturedImage=Y,console.log("this the image captured ",d),this.userService.loginWithFaceRecognition(d).subscribe(F=>{if(console.log("this is the login with face ",F),this.userService.updateUserRole(),F&&F.user&&F.user.roles){let N=F.user.roles;N.includes("superadmin")||N.includes("admin")?this.router.navigate(["/back"]):N.includes("company")?this.router.navigate(["/company-dashboard"]):N.includes("employee")?this.router.navigate(["/back"]):console.log("Unknown roles")}},F=>{console.log(F)})}}}stopMediaTracks(){this.mediaStream&&(this.mediaStream.getTracks().forEach(i=>i.stop()),this.mediaStream=null)}};e.\u0275fac=function(n){return new(n||e)(h(v),h(S))},e.\u0275cmp=g({type:e,selectors:[["app-face-capture"]],viewQuery:function(n,s){if(n&1&&H(qe,5),n&2){let d;Z(d=X())&&(s.videoElement=d.first)}},standalone:!0,features:[f],decls:6,vars:3,consts:[["autoplay","","muted","","playsinline","",3,"height","width"],["video",""],[3,"click"],[4,"ngIf"],[3,"src","alt"]],template:function(n,s){n&1&&(t(0,"div"),m(1,"video",0,1),o(),t(3,"button",2),u("click",function(){return s.triggerSnapshot()}),a(4,"Take Snapshot"),o(),D(5,Je,2,2,"div",3)),n&2&&(p(),b("height",400)("width",600),p(4),b("ngIf",s.capturedImage))},dependencies:[Re,R]});let r=e;return r})();w();var Oe=(r,e)=>{let l=k(v),i=k(S),n=l.getToken();return console.log(n),n!=null?!0:(i.navigateByUrl("/login"),!1)};var je=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"front",loadChildren:()=>import("./chunk-E3HF3CZQ.js").then(r=>r.FrontModuleModule)},{path:"back",loadChildren:()=>import("./chunk-DN5DGLQC.js").then(r=>r.BackModuleModule),canActivate:[Oe]},{path:"login",component:De},{path:"signup",component:Me},{path:"front/ajouter",component:Fe},{path:"front/notif",component:Ne},{path:"forgotpassword",component:Te},{path:"resetPassword",component:Ve},{path:"cam",component:Ue},{path:"**",component:Pe}];w();w();var Ye="@",He=(()=>{let e=class e{constructor(i,n,s,d,c){this.doc=i,this.delegate=n,this.zone=s,this.animationType=d,this.moduleImpl=c,this._rendererFactoryPromise=null,this.scheduler=k(ge,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-BGTCM3S7.js")).catch(n=>{throw new re(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:s})=>{this._engine=n(this.animationType,this.doc,this.scheduler);let d=new s(this.delegate,this._engine,this.zone);return this.delegate=d,d})}createRenderer(i,n){let s=this.delegate.createRenderer(i,n);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let d=new ee(s);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{let Y=c.createRenderer(i,n);d.use(Y)}).catch(c=>{d.use(s)}),d}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(n){pe()},e.\u0275prov=se({token:e,factory:e.\u0275fac});let r=e;return r})(),ee=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let l of this.replay)l(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,l){return this.delegate.createElement(e,l)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,l){this.delegate.appendChild(e,l)}insertBefore(e,l,i,n){this.delegate.insertBefore(e,l,i,n)}removeChild(e,l,i){this.delegate.removeChild(e,l,i)}selectRootElement(e,l){return this.delegate.selectRootElement(e,l)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,l,i,n){this.delegate.setAttribute(e,l,i,n)}removeAttribute(e,l,i){this.delegate.removeAttribute(e,l,i)}addClass(e,l){this.delegate.addClass(e,l)}removeClass(e,l){this.delegate.removeClass(e,l)}setStyle(e,l,i,n){this.delegate.setStyle(e,l,i,n)}removeStyle(e,l,i){this.delegate.removeStyle(e,l,i)}setProperty(e,l,i){this.shouldReplay(l)&&this.replay.push(n=>n.setProperty(e,l,i)),this.delegate.setProperty(e,l,i)}setValue(e,l){this.delegate.setValue(e,l)}listen(e,l,i){return this.shouldReplay(l)&&this.replay.push(n=>n.listen(e,l,i)),this.delegate.listen(e,l,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(Ye)}};function Le(r="animations"){return de([{provide:ue,useFactory:(e,l,i)=>new He(e,l,i,r),deps:[fe,be,he]},{provide:me,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}w();oe();var Be=(r,e)=>{let l=k(v);if(console.log("Intercepting request:"),r.url.includes("/login"))return e(r);let i=l.getToken();if(i){let n=r.clone({headers:r.headers.set("Authorization","Bearer "+i)});return e(n).pipe(ne(s=>((s.status===403||s.status===401)&&localStorage.clear(),ie(s))))}else return e(r)};var Ge={providers:[Ce(je),K(we()),Le(),K(ve([Be]))]};w();var Qe=(()=>{let e=class e{constructor(){this.title="PerformaSync"}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=g({type:e,selectors:[["app-root"]],standalone:!0,features:[f],decls:1,vars:0,template:function(n,s){n&1&&m(0,"router-outlet")},dependencies:[ye]});let r=e;return r})();Se(Qe,Ge).catch(r=>console.error(r));
